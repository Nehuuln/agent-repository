{% extends 'base.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block body %}
<a href="{{ path("home") }}" class="back-button">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" class="bi bi-arrow-left">
        <path d="M19 12H5"></path>
        <path d="M12 19l-7-7 7-7"></path>
    </svg>
</a>
<div class="dashboard-page">
    <h1>Dashboard</h1>

    <ul>
        {% for category in categories %}
            <li class="dashboard-category-item">
                <strong class="category-name">{{ category.name }}</strong>
                <a href="{{ path('category_edit', { id: category.id }) }}" class="text-decoration-none">Modifier</a>
                <ul>
                    {% for agent in category.agents %}
                        <li class="dashboard-agent-item">
                            {{ agent.name }}
                            <a href="{{ path('agent_edit', { id: agent.id }) }}" class="text-decoration-none">Modifier</a>
                        </li>
                    {% endfor %}
                </ul>
                <a href="{{ path('agent_add', { categoryId: category.id }) }}" class="add-agent-btn">Ajouter un agent</a>
            </li>
        {% endfor %}
    </ul>

   <div class="add-new-category-section">
        <a href="{{ path('category_create') }}" class="btn-add-new-category">Ajouter un jeu</a>
    </div>
</div>
{% endblock %}
